import{_ as k}from"./BtUYR2Y9.js";import{_ as h,j as r,u as q,k as x,l as C,c as p,o as c,a as y,i as b,m as B,w as E}from"./Dg7QLVXh.js";import{q as v}from"./BCTLbqC0.js";import"./Dd0hzzRA.js";const L={__name:"music",setup(M){const o=r(),l=r(!1),n=r(""),i=r(!1),u=q(),g=async()=>{const a=u.params.slug||u.path.replace("/","")||"index";console.log("Current route:",u.path),console.log("Looking for slug:",a);let e=null;try{console.log("Trying queryContent with articles directory...");const t=await v("articles",a).findOne();console.log("Articles query result:",t),console.log("Trying direct path query...");const f=await v().where({_path:`/articles/${a}`}).findOne();console.log("Direct path query result:",f),console.log("Trying slug-based query...");const d=await v().where({slug:a}).findOne();console.log("Slug-based query result:",d),e=t||f||d,console.log("Final content:",e),console.log("Song from content:",e==null?void 0:e.song)}catch(t){console.log("Error querying content:",t)}const s=(e==null?void 0:e.song)||"/25.06.16_elyssian.mp3";console.log("Final src:",s),n.value!==s&&(o.value&&(o.value.pause(),o.value.src=""),n.value=s,_())},_=()=>{n.value&&(o.value=new Audio(n.value),o.value.preload="auto",o.value.loop=!0,o.value.load(),fetch(n.value),o.value.addEventListener("play",()=>{l.value=!0}),o.value.addEventListener("pause",()=>{l.value=!1}),l.value=!1)};x(()=>u.path,()=>{g()}),C(()=>{g()});function m(){o.value&&o.value.play()}function w(){o.value&&o.value.pause()}return(a,e)=>{const s=k;return c(),p("section",null,[y("div",{onMouseenter:e[0]||(e[0]=t=>i.value=!0),onMouseleave:e[1]||(e[1]=t=>i.value=!1)},[l.value?(c(),p("button",{key:1,onClick:w},"o")):(c(),p("button",{key:0,onClick:m},"I")),l.value&&i.value?(c(),b(s,{key:2,to:"/about"},{default:E(()=>e[2]||(e[2]=[y("h1",null,"more",-1)])),_:1,__:[2]})):B("",!0)],32)])}}},$=h(L,[["__scopeId","data-v-dc82c9e1"]]);export{$ as default};
